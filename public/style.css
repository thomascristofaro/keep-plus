/* Keep+ Minimal Style - Essential functionality only */

/* ============================================
   Masonry Grid Layout
   ============================================ */

.masonry-grid {
  column-gap: 1rem;
  column-count: 2; /* Mobile default: 2 columns */
}

/* Prevent cards from breaking across columns */
.masonry-grid > * {
  break-inside: avoid;
  page-break-inside: avoid; /* Older browsers */
}

/* Responsive column counts */
@media (min-width: 640px) {
  .masonry-grid { column-count: 3; }
}

@media (min-width: 768px) {
  .masonry-grid { column-count: 4; }
}

@media (min-width: 1024px) {
  .masonry-grid { column-count: 5; }
}

@media (min-width: 1280px) {
  .masonry-grid { column-count: 6; }
}

/* Wide card mode - halve the column count */
.masonry-grid.wide-card-mode {
  column-count: 1;
}

@media (min-width: 640px) {
  .masonry-grid.wide-card-mode { column-count: 2; }
}

@media (min-width: 768px) {
  .masonry-grid.wide-card-mode { column-count: 2; }
}

@media (min-width: 1024px) {
  .masonry-grid.wide-card-mode { column-count: 3; }
}

@media (min-width: 1280px) {
  .masonry-grid.wide-card-mode { column-count: 3; }
}

/* ============================================
   Dark Mode Support
   ============================================ */

/* Dark mode is handled via Tailwind's 'dark' class strategy
   Applied to document.documentElement in App.tsx */

/* ============================================
   Line Clamping (Text Truncation)
   ============================================ */

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ============================================
   Background Size (for shimmer effect)
   ============================================ */

.bg-size-\[200px\] {
  background-size: 200px 100%;
}

/* ============================================
   Optional: Smooth transitions for dark mode
   ============================================ */

* {
  transition-property: background-color, border-color, color;
  transition-duration: 150ms;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Disable transitions for elements that animate */
.transition-all,
.transition-opacity,
.transition-transform,
.transition-colors,
button,
input,
select,
textarea {
  transition-property: all;
}

/* ============================================
   Utility: Hide scrollbar but keep functionality
   ============================================ */

.overflow-y-auto::-webkit-scrollbar {
  width: 8px;
}

.overflow-y-auto::-webkit-scrollbar-track {
  background: transparent;
}

.overflow-y-auto::-webkit-scrollbar-thumb {
  background: rgba(156, 163, 175, 0.5);
  border-radius: 4px;
}

.overflow-y-auto::-webkit-scrollbar-thumb:hover {
  background: rgba(156, 163, 175, 0.7);
}

/* Dark mode scrollbar */
.dark .overflow-y-auto::-webkit-scrollbar-thumb {
  background: rgba(75, 85, 99, 0.5);
}

.dark .overflow-y-auto::-webkit-scrollbar-thumb:hover {
  background: rgba(75, 85, 99, 0.7);
}
